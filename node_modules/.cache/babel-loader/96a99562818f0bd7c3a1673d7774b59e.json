{"ast":null,"code":"import * as action from './actions';\nconst initialState = {\n  start: false,\n  dataCart: [],\n  errorCart: null,\n  totalMoney: 0,\n  //tong tien trong gio hang\n  totalItems: 0 // tong so luong san pham\n\n};\nexport const cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case action.START_ADD_CART:\n      return { ...state,\n        ...{\n          start: action.start\n        }\n      };\n\n    case action.ADD_CART_FAIL:\n      return { ...state,\n        ...{\n          errorCart: action.error\n        }\n      };\n\n    case action.ADD_CART_SUCCESS:\n      const infoPd = action.data;\n      const idPd = infoPd.id; // kiem tra xem san pham mua da ton tai trong gio hang chua.\n      // neu ma chua ton tai thi them moi san pham vao gio hang.\n      // neu da ton tai thi chi cap nhat so luong mua trong gio hang.\n\n      const findPd = state.dataCart.find(item => item.id === idPd);\n\n      if (findPd) {\n        infoPd.qty += 1;\n        return { ...state,\n          totalMoney: parseFloat(state.totalMoney) + parseFloat(infoPd.price),\n          errorCart: null\n        };\n      } else {\n        infoPd.qty = 1;\n        return {\n          dataCart: [...state.dataCart, infoPd],\n          errorCart: null,\n          totalMoney: parseFloat(state.totalMoney) + parseFloat(infoPd.price),\n          totalItems: state.totalItems + 1\n        };\n      }\n\n    // them so luong mua - mac dinh mua 1 san pham\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/loctran/Desktop/learnReact/src/shopping/pages/carts/reducers/cart.js"],"names":["action","initialState","start","dataCart","errorCart","totalMoney","totalItems","cartReducer","state","type","START_ADD_CART","ADD_CART_FAIL","error","ADD_CART_SUCCESS","infoPd","data","idPd","id","findPd","find","item","qty","parseFloat","price"],"mappings":"AAAA,OAAO,KAAKA,MAAZ,MAAwB,WAAxB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE,KADU;AAEjBC,EAAAA,QAAQ,EAAE,EAFO;AAGjBC,EAAAA,SAAS,EAAE,IAHM;AAIjBC,EAAAA,UAAU,EAAE,CAJK;AAID;AAChBC,EAAAA,UAAU,EAAE,CALK,CAKH;;AALG,CAArB;AAQA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGP,YAAT,EAAuBD,MAAvB,KAAkC;AACzD,UAAOA,MAAM,CAACS,IAAd;AACI,SAAKT,MAAM,CAACU,cAAZ;AACI,aAAO,EACH,GAAGF,KADA;AAEH,WAAG;AAAEN,UAAAA,KAAK,EAAEF,MAAM,CAACE;AAAhB;AAFA,OAAP;;AAIJ,SAAKF,MAAM,CAACW,aAAZ;AACQ,aAAO,EACH,GAAGH,KADA;AAEH,WAAG;AAAEJ,UAAAA,SAAS,EAAEJ,MAAM,CAACY;AAApB;AAFA,OAAP;;AAKR,SAAKZ,MAAM,CAACa,gBAAZ;AACI,YAAMC,MAAM,GAAGd,MAAM,CAACe,IAAtB;AACA,YAAMC,IAAI,GAAGF,MAAM,CAACG,EAApB,CAFJ,CAGI;AACA;AACA;;AACA,YAAMC,MAAM,GAAGV,KAAK,CAACL,QAAN,CAAegB,IAAf,CAAoBC,IAAI,IAAGA,IAAI,CAACH,EAAL,KAAYD,IAAvC,CAAf;;AACA,UAAGE,MAAH,EAAW;AACPJ,QAAAA,MAAM,CAACO,GAAP,IAAc,CAAd;AACA,eAAO,EACH,GAAGb,KADA;AAEHH,UAAAA,UAAU,EAAEiB,UAAU,CAACd,KAAK,CAACH,UAAP,CAAV,GAA+BiB,UAAU,CAACR,MAAM,CAACS,KAAR,CAFlD;AAGHnB,UAAAA,SAAS,EAAE;AAHR,SAAP;AAKH,OAPD,MAOO;AACHU,QAAAA,MAAM,CAACO,GAAP,GAAa,CAAb;AACA,eAAO;AACHlB,UAAAA,QAAQ,EAAE,CAAC,GAAGK,KAAK,CAACL,QAAV,EAAoBW,MAApB,CADP;AAEHV,UAAAA,SAAS,EAAE,IAFR;AAGHC,UAAAA,UAAU,EAAEiB,UAAU,CAACd,KAAK,CAACH,UAAP,CAAV,GAA+BiB,UAAU,CAACR,MAAM,CAACS,KAAR,CAHlD;AAIHjB,UAAAA,UAAU,EAAEE,KAAK,CAACF,UAAN,GAAiB;AAJ1B,SAAP;AAOP;;AACG;;AAEJ;AACI,aAAOE,KAAP;AAvCR;AAyCH,CA1CM","sourcesContent":["import * as action from './actions';\n\nconst initialState = {\n    start: false,\n    dataCart: [],\n    errorCart: null,\n    totalMoney: 0,  //tong tien trong gio hang\n    totalItems: 0 // tong so luong san pham\n}\n\nexport const cartReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case action.START_ADD_CART:\n            return {\n                ...state,\n                ...{ start: action.start }\n            }\n        case action.ADD_CART_FAIL:\n                return {\n                    ...state,\n                    ...{ errorCart: action.error }\n                }   \n\n        case action.ADD_CART_SUCCESS:\n            const infoPd = action.data;\n            const idPd = infoPd.id;\n            // kiem tra xem san pham mua da ton tai trong gio hang chua.\n            // neu ma chua ton tai thi them moi san pham vao gio hang.\n            // neu da ton tai thi chi cap nhat so luong mua trong gio hang.\n            const findPd = state.dataCart.find(item=> item.id === idPd);\n            if(findPd) {\n                infoPd.qty += 1;\n                return {\n                    ...state,\n                    totalMoney: parseFloat(state.totalMoney) + parseFloat(infoPd.price),\n                    errorCart: null\n                }\n            } else {\n                infoPd.qty = 1;\n                return {\n                    dataCart: [...state.dataCart, infoPd],\n                    errorCart: null,\n                    totalMoney: parseFloat(state.totalMoney) + parseFloat(infoPd.price),\n                    totalItems: state.totalItems+1\n                \n            }\n        }\n            // them so luong mua - mac dinh mua 1 san pham\n            \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}