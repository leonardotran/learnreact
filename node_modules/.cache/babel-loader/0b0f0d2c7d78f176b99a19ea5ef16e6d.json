{"ast":null,"code":"import { call, put, takeLatest } from 'redux-saga/effects';\nimport * as actions from '../actions/index';\nimport helper from '../helpers/common';\nimport { apiWeather } from '../services/api';\nimport { SEARCH_REQUEST } from '../actions/types'; // Luon luon su sung generator function cho REDUX SAGA. KO SU DUNG ARROW\n// working + watching: thuc thi va theo doi actions. \n//working\n\nfunction* getDataWeatherFromApi({\n  city,\n  lang\n}) {\n  try {\n    //tiep nhan action: (requestSearch) tu phia thao tac nguoi dung - tra ve cac action khac\n    // bat dau tim kiem - dispatch action cua saga vao store\n    yield put(actions.startWeather(true)); // bao hieu dang di lay data tu api\n\n    yield put(actions.loadingGetDataWeather(true)); // call data\n\n    const dataWeathers = yield call(apiWeather.getDataWeatherCity, city, lang);\n\n    if (helper.isEmptyObject(dataWeathers)) {\n      yield put(actions.getDataWeatherFail({\n        code: 404,\n        message: 'Not Found Data'\n      }));\n    } else {\n      yield put(actions.getDataWeatherSuccess(dataWeathers));\n    }\n  } catch (err) {\n    yield put(actions.getDataWeatherFail({\n      code: 500,\n      message: 'err'\n    }));\n  } finally {\n    //ket thuc call API\n    yield put(actions.finishGetDataWeather(true));\n  }\n} // watching \n\n\nexport function* watchingGetDataWeatherFromApi() {\n  yield takeLatest(SEARCH_REQUEST, getDataWeatherFromApi);\n}","map":{"version":3,"sources":["/Users/loctran/Desktop/hocreact/src/weather/sagas/weatherSaga.js"],"names":["call","put","takeLatest","actions","helper","apiWeather","SEARCH_REQUEST","getDataWeatherFromApi","city","lang","startWeather","loadingGetDataWeather","dataWeathers","getDataWeatherCity","isEmptyObject","getDataWeatherFail","code","message","getDataWeatherSuccess","err","finishGetDataWeather","watchingGetDataWeatherFromApi"],"mappings":"AAAA,SAAQA,IAAR,EAAcC,GAAd,EAAmBC,UAAnB,QAAoC,oBAApC;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,cAAT,QAA+B,kBAA/B,C,CAEA;AACA;AAEA;;AAEA,UAAUC,qBAAV,CAAgC;AAACC,EAAAA,IAAD;AAAOC,EAAAA;AAAP,CAAhC,EAA8C;AAC9C,MAAI;AACA;AAEA;AACA,UAAMR,GAAG,CAACE,OAAO,CAACO,YAAR,CAAqB,IAArB,CAAD,CAAT,CAJA,CAKA;;AACA,UAAMT,GAAG,CAACE,OAAO,CAACQ,qBAAR,CAA8B,IAA9B,CAAD,CAAT,CANA,CAOA;;AACA,UAAMC,YAAY,GAAG,MAAMZ,IAAI,CAACK,UAAU,CAACQ,kBAAZ,EAAgCL,IAAhC,EAAsCC,IAAtC,CAA/B;;AACA,QAAGL,MAAM,CAACU,aAAP,CAAqBF,YAArB,CAAH,EAAuC;AACnC,YAAMX,GAAG,CAACE,OAAO,CAACY,kBAAR,CAA2B;AACjCC,QAAAA,IAAI,EAAE,GAD2B;AAEjCC,QAAAA,OAAO,EAAE;AAFwB,OAA3B,CAAD,CAAT;AAIH,KALD,MAKO;AACH,YAAMhB,GAAG,CAACE,OAAO,CAACe,qBAAR,CAA8BN,YAA9B,CAAD,CAAT;AACH;AACJ,GAjBD,CAiBE,OAAMO,GAAN,EAAW;AACT,UAAMlB,GAAG,CAACE,OAAO,CAACY,kBAAR,CAA2B;AACjCC,MAAAA,IAAI,EAAE,GAD2B;AAEjCC,MAAAA,OAAO,EAAE;AAFwB,KAA3B,CAAD,CAAT;AAIC,GAtBL,SAsBc;AACN;AACA,UAAMhB,GAAG,CAACE,OAAO,CAACiB,oBAAR,CAA6B,IAA7B,CAAD,CAAT;AACH;AACJ,C,CAGD;;;AACA,OAAO,UAAUC,6BAAV,GAA0C;AAC7C,QAAMnB,UAAU,CAACI,cAAD,EAAiBC,qBAAjB,CAAhB;AAEH","sourcesContent":["import {call, put, takeLatest} from 'redux-saga/effects';\nimport * as actions from '../actions/index';\nimport helper from '../helpers/common';\nimport { apiWeather } from '../services/api';\nimport { SEARCH_REQUEST } from '../actions/types';\n\n// Luon luon su sung generator function cho REDUX SAGA. KO SU DUNG ARROW\n// working + watching: thuc thi va theo doi actions. \n\n//working\n\nfunction* getDataWeatherFromApi({city, lang}) {\ntry {\n    //tiep nhan action: (requestSearch) tu phia thao tac nguoi dung - tra ve cac action khac\n\n    // bat dau tim kiem - dispatch action cua saga vao store\n    yield put(actions.startWeather(true));\n    // bao hieu dang di lay data tu api\n    yield put(actions.loadingGetDataWeather(true));\n    // call data\n    const dataWeathers = yield call(apiWeather.getDataWeatherCity, city, lang)\n    if(helper.isEmptyObject(dataWeathers)) {\n        yield put(actions.getDataWeatherFail({\n            code: 404,\n            message: 'Not Found Data'\n        }))\n    } else {\n        yield put(actions.getDataWeatherSuccess(dataWeathers))\n    }\n} catch(err) {\n    yield put(actions.getDataWeatherFail({\n        code: 500,\n        message: 'err'\n    }))\n    } finally {\n        //ket thuc call API\n        yield put(actions.finishGetDataWeather(true));\n    }\n}\n\n\n// watching \nexport function* watchingGetDataWeatherFromApi() {\n    yield takeLatest(SEARCH_REQUEST, getDataWeatherFromApi);\n\n}"]},"metadata":{},"sourceType":"module"}